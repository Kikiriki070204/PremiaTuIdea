<div class="mx-auto max-w-6xl px-4 py-8">
  <h5
    class="text-center text-3xl sm:text-4xl font-bold text-blue-900 dark:text-white mb-6"
  >
    Describe tu idea o proyecto
  </h5>
  <p class="text-center text-lg text-gray-700 dark:text-gray-300 mb-4">
    Origen seleccionado: <span class="font-semibold">{{ categoria }}</span>
  </p>

  <div
    *ngIf="errorMessage"
    class="mb-6 p-3 text-sm text-red-800 bg-red-50 rounded-lg dark:bg-gray-800 dark:text-red-400 w-full max-w-xl mx-auto"
    role="alert"
  >
    <span class="font-medium">{{ errorMessage }}</span>
  </div>

  <div
    class="flex flex-col lg:flex-row gap-10 justify-center items-start bg-white dark:bg-gray-800 shadow-md rounded-lg p-6"
  >
    <form class="flex-1 space-y-4 w-full max-w-lg">
      <div>
        <label
          for="titulo"
          class="block mb-1 text-sm font-medium text-gray-900 dark:text-white"
          >Título</label
        >
        <input
          [formControl]="titulo"
          type="text"
          id="titulo"
          class="w-full p-2.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
          placeholder="Escribe el título de tu idea o proyecto aquí"
          required
        />
      </div>

      <div>
        <label
          for="fecha_inicial"
          class="block mb-1 text-sm font-medium text-gray-900 dark:text-white"
          >Fecha inicio</label
        >
        <input
          [formControl]="fecha_inicial"
          type="date"
          id="fecha_inicial"
          class="w-full p-2.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
          required
        />
      </div>

      <!-- Propuesta -->
      @if(idCategoriaSeleccionado == 1){
      <div>
        <label
          for="antecedente"
          class="block mb-1 text-sm font-medium text-gray-900 dark:text-white"
          >Contexto actual</label
        >
        <textarea
          [formControl]="antecedentes"
          id="antecedente"
          rows="4"
          class="w-full p-2.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
          placeholder="Describe el contexto aquí..."
        ></textarea>
      </div>
      }

      <div>
        <label
          for="propuesta"
          class="block mb-1 text-sm font-medium text-gray-900 dark:text-white"
          >Descripción</label
        >
        @if(idCategoriaSeleccionado == 1){
        <textarea
          [formControl]="propuesta"
          id="propuesta"
          rows="4"
          class="w-full p-2.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
          placeholder="Describe tu idea aquí..."
        ></textarea>
        } @else {
        <textarea
          [formControl]="propuesta"
          id="propuesta"
          rows="4"
          class="w-full p-2.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
          placeholder="Describe tu proyecto aquí..."
        ></textarea>
        }
      </div>
    </form>

    <form class="flex-1 w-full max-w-sm space-y-6">
      @if(idCategoriaSeleccionado == 1){
      <div>
        <label
          for="user_avatar"
          class="block mb-1 text-sm font-medium text-gray-900 dark:text-white"
          >Condición actual</label
        >
        <input
          id="user_avatar"
          type="file"
          (change)="onFileSelected($event)"
          class="w-full text-sm border border-gray-300 rounded-lg cursor-pointer bg-blue-800 text-white focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"
        />
      </div>

      <div>
        <label
          for="area"
          class="block mb-1 text-sm font-medium text-gray-900 dark:text-white"
          >Área</label
        >
        <select
          id="area"
          (change)="onAreaChange($event)"
          class="w-full p-2.5 text-sm border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"
        >
          <option disabled selected hidden>Seleccione un área</option>
          <option *ngFor="let area of areas" [value]="area.id">
            {{ area.nombre }}
          </option>
        </select>
      </div>
      }

      <div class="flex flex-wrap gap-4 mt-4">
        <button
          (click)="idea()"
          type="button"
          class="flex-1 text-white bg-blue-800 hover:bg-blue-900 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 transition dark:bg-blue-700 dark:hover:bg-blue-600 dark:focus:ring-blue-700"
        >
          Siguiente
        </button>
        <button
          (click)="goBack()"
          type="button"
          class="flex-1 text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:ring-red-900 font-medium rounded-lg text-sm px-5 py-2.5 transition dark:bg-gray-600 dark:hover:bg-gray-500 dark:focus:ring-gray-500"
        >
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
